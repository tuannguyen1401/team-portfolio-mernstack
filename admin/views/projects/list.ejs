<!-- Dữ liệu mẫu để xem giao diện admin -->
<div class="bg-white rounded-lg shadow">
    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
      <h2 class="text-lg font-semibold text-gray-900">Danh sách Projects</h2>
      <a href="/admin/projects/create" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">+</a>
    </div>
    
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tên</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Image</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Github URL</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stack Name</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">CHPlay link</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">App Store link</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Thao tác</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% items.forEach((item) => { %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.id %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%= item.name %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
              <% if (item.image_url) { %>
                <img 
                  src="<%= item.image_url.startsWith('/public/') ? item.image_url : '/public/' + item.image_url %>" 
                  alt="Project Image" 
                  style="max-width: 120px; max-height: 80px; object-fit: cover; border-radius: 6px; border: 1px solid #e5e7eb;"
                />
              <% } else { %>
                <span class="text-gray-400 italic">No image</span>
              <% } %>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.github_url %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.stack_name %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.chplay_link %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.appstore_link %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <a href="/admin/projects/edit/<%= item.id %>/" class="text-indigo-600 hover:text-indigo-900 mr-3">Sửa</a>
              <button class="text-red-600 hover:text-red-900" onclick="deleteProject(<%= item.id %>)">Xóa</button>
            </td>
          </tr>
          <% }) %>
          
        </tbody>
      </table>
    </div>
  </div>
  
  <script>
  function deleteProject(id) {
    if (confirm('Bạn có chắc muốn xóa project này?')) {
      // Gọi API xóa
      fetch(`/admin/projects/delete/${id}`, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          location.reload();
        } else {
          alert('Có lỗi xảy ra khi xóa!');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert('Có lỗi xảy ra khi xóa!');
      });
    }
  }
  </script>
    