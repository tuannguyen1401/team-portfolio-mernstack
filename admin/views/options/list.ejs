<!-- Responsive Tailwind UI for Options list (kept EJS code & endpoints intact) -->
<div class="mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">
  <!-- Card Shell -->
  <div class="bg-white/80 backdrop-blur rounded-2xl shadow-sm ring-1 ring-black/5 overflow-hidden">
    <!-- Header -->
    <div class="px-4 sm:px-6 py-4 border-b border-gray-200 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
      <h2 class="text-lg sm:text-xl font-semibold text-gray-900">Danh sách Options</h2>
      <div class="flex items-center gap-3">
        <!-- Optional filter/search (non-functional placeholder; remove if unwanted) -->
        <div class="relative hidden sm:block">
          <input type="text" placeholder="Tìm kiếm..." class="w-56 rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 text-sm px-3 py-2">
          <div class="pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 4.238 12.01l3.251 3.251a.75.75 0 1 0 1.06-1.06l-3.25-3.251A6.75 6.75 0 0 0 10.5 3.75Zm-5.25 6.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z" clip-rule="evenodd"/></svg>
          </div>
        </div>
        <a href="/admin/options/create" class="inline-flex items-center justify-center rounded-xl bg-blue-600 text-white px-4 py-2 text-sm font-medium shadow hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2">+
        </a>
      </div>
    </div>

    <!-- TABLE (md and up) -->
    <div class="hidden md:block overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tên</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Value</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Thao tác</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-100">
          <% items.forEach((item) => { %>
          <tr class="hover:bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"><%= item.id %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%= item.name %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"><%= item.value %></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">
              <div class="flex items-center gap-3">
                <a href="/admin/options/edit/<%= item.id %>/" class="text-indigo-600 hover:text-indigo-800 font-medium">Sửa</a>
                <button class="text-red-600 hover:text-red-800 font-medium" onclick="deleteOption(<%= item.id %>)">Xóa</button>
              </div>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
    </div>

    <!-- CARDS (mobile) -->
    <div class="md:hidden divide-y divide-gray-100">
      <% items.forEach((item) => { %>
      <div class="p-4 hover:bg-gray-50">
        <div class="flex items-start justify-between gap-3">
          <div>
            <p class="text-xs text-gray-500">ID</p>
            <p class="text-sm font-semibold text-gray-900"><%= item.id %></p>
          </div>
          <div class="flex items-center gap-2">
            <a href="/admin/options/edit/<%= item.id %>/" class="inline-flex items-center rounded-lg border border-indigo-200 px-3 py-1.5 text-xs font-medium text-indigo-700 hover:bg-indigo-50">Sửa</a>
            <button onclick="deleteOption(<%= item.id %>)" class="inline-flex items-center rounded-lg border border-red-200 px-3 py-1.5 text-xs font-medium text-red-700 hover:bg-red-50">Xóa</button>
          </div>
        </div>
        <div class="mt-3 grid grid-cols-1 gap-2">
          <div>
            <p class="text-xs text-gray-500">Tên</p>
            <p class="text-sm text-gray-900 break-words"><%= item.name %></p>
          </div>
          <div>
            <p class="text-xs text-gray-500">Value</p>
            <p class="text-sm text-gray-900 break-words"><%= item.value %></p>
          </div>
        </div>
      </div>
      <% }) %>
    </div>

    <!-- Footer (pagination placeholder) -->
    <div class="px-4 sm:px-6 py-3 bg-gray-50 border-t border-gray-200 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
      <p class="text-xs text-gray-500">Hiển thị <span class="font-medium"><%= items.length %></span> option(s)</p>
      <div class="flex items-center gap-2">
        <button type="button" class="h-9 rounded-xl border border-gray-300 px-3 text-sm disabled:opacity-40">Trước</button>
        <button type="button" class="h-9 rounded-xl border border-gray-300 px-3 text-sm disabled:opacity-40">Sau</button>
      </div>
    </div>
  </div>
</div>

<script>
function deleteOption(id) {
  if (confirm('Bạn có chắc muốn xóa option này?')) {
    fetch(`/admin/options/delete/${id}`, {
      method: 'GET',
      headers: { 'Content-Type': 'application/json' }
    })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          location.reload();
        } else {
          alert('Có lỗi xảy ra khi xóa!');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert('Có lỗi xảy ra khi xóa!');
      });
  }
}
</script>
